개발은 물론이고 의사소통 또한 프로 개발자의 임무다.

프로 프로그래머는 팀 동료나 사업부와의 의사소통이 정확하고 도움이 되도록 신경 써야 한다.

→ 반대로 의사소통이 안 되는 팀 동료나 사업부가 있다면?

# 요구사항 관련 의사소통

프로그래머와 사업부 사이의 가장 흔한 의사소통 쟁점은 `요구사항 requirement`

고객들의 예상은 컴퓨터로 구현하고 나서 보면 그 예상이 틀린 경우가 잦다.

→ 문서, 기획서가 없이 고객의 말대로 구현하면 높은 확률로 고객은 딴소리를 한다.

## 시기상조의 정밀도

`시기상조의 정밀도 premature precision` 에 빠지기 쉽다.

## 불확실성의 원칙

문제는 서류와 실제 시스템 동작이 다르다는 점이다.

실제 동작하는 모습을 보고 나면 새로운 정보를 얻게 되고, 그 새로운 정보는 전체 시스템을 보는 시각에 영향을 미친다.

→ 현재 개발하고 있는 서비스 동일하다.

요구사항이 정밀해질수록 최종 구현된 시스템과 초기 요구사항의 차이는 더 벌어진다.

## 불안한 추정

1. 완벽한 정보로 추정을 한다 해도 추정에는 큰 편차가 생기고야 만다.
2. 불확실성 원칙이 초기 정밀도를 엉망으로 만든다.

**요구사항은 반드시 바뀌기 때문에 초기 정밀도는 고려할 가치가 없다.**

## 때늦은 모호함

시기상조의 정밀도를 해결하려면 가능한 정밀도를 늦추면 된다.

프로 개발자들은 개발 직전까지도 요구사항에 살을 붙이지 않는다.

`때늦은 모호함 late ambiguity`

의견 불일치를 해결하기보다는 매끄러운 말솜씨로 우회하는 게 더 쉽다는 것을 알게 된다. → 공감

실제로 분쟁을 해결하지 않고, 모두가 동의하도록 요구사항의 표현을 바꾸는 방법을 찾아낸다. → 공감

# 인수 테스트

이해당사자들과 프로그래머들이 힘을 모아 작성하는 테스트

## 완료에 대한 정의

가장 흔한 모호함들 중 하나는 `완료`라는 모호함이다.

→ 나의 경우는 QA 과정을 거칠 준비가 됐다는 쪽에 가깝다.

완료란 다 됐다는 뜻이다.

- 모든 코드 작성
- 모든 테스트 통과
- QA와 이해당사자에게 인수

자동화 테스트를 만들고 통과하면 된다.

## 의사소통

인수 테스트의 목적은 소통, 명확성 및 정밀성이다.

## 자동화

인수 테스트는 언제나 자동화 해야 한다.

## 추가 작업

테스트를 만드는 것은 시스템의 명세(`spec`)를 명확히 하는 작업일 뿐이다.

세부적인 수준의 명세는 프로그래머인 우리들이 `완료`의 의미를 이해하는 유일한 방법이다.

## 누가, 언제 인수 테스트를 작성하는가?

이상적이라면 이해당사자와 QA는 이런 테스트의 장성을 돕고 개발자는 일관성을 검토

테스트를 작성하는 개발자들은 테스트를 거친 기능을 실행하는 개발자들과는 같지 않다는 점을 유의하자

인수 테스트는 `늦은 정밀성`의 원칙에 따라 보통 기능 구현 며칠 전에 가능한  한 늦게 작성해야 한다.

애자일 프로젝트에서 테스트는 다음 반복 주기나 스프린트에서 구현할 기능을 선정한 후 작성한다.

## 개발자의 역할

기능 구현 작업은 그 기능의 인수 테스트가 준비되면 시작한다.

## 테스트 협상과 수동적 공격성

테스트 저자들이 보다 나은 테스트를 만들도록 협상을 하는 것은 프로 개발자의 일이다.

<aside>
💡 수동적 공격을 선택해 “그래, 테스트가 이런 식으로 만들어져 있길래 그냥 따랐을 뿐이야”
</aside>

명심해야 할 일은 팀이 가능한 최상의 소프트웨어를 만드는 데 도움을 주는 것이 프로의 일이라는 것이다.

## 인수 테스트와 단위 테스트

인수 테스트는 단위 테스트가 아니다.

인 테스트는 사업적 관점에서 시스템이 어덯게 운영되어야 하는지를 구체적으로 표시한 공식 요구사항 문서다. 

→ 인수 테스트가 정확히 뭔지 어떤 문서인지 감이 안 온다.

차이점

1. 같은 내용을 테스트할지라도, 다른 메커니즘과 경로를 통해서 테스트한다.
    1. 단위 테스트: 클래스, 메소드 호출
    2. 인수 테스트: api, ui

단위 테스트와 인수 테스트는 첫째가 문서고 둘째가 테스트다.

테스트의 진정한 목적은 사양의 명세다.

## GUI 및 다른 문제점

GUI는 제대로 명세하기 어렵다.

- 미학이라는 게 주관적이어서 논란의 여지가 있다.
- GUI는 항상 변화한다.

단일 책임의 원칙 `SRP`을 적용한다.

GUI에 대한 인수 테스트를 만들 때 빈번하게 바뀌지 않는 기본 추상화의 이점을 눌릴 수 있다.

→ 현재 테스트하는 방식과 동일

### 올바른 인터페이스를 통한 테스트

`business rule`과 GUI를 분리

GUI는 변화할 가능성이 커서 테스트를 매우 취약하게 만든다.

GUI 바로 아래에 위치한 API를 통과하기 위한 업무 규칙 테스트를 만들어라.

GUI와 `business rule`를 분리해서, GUI를 테스트 하는 동안, `business rule`을 stub으로 교체하는 것이 좋다.

GUI 테스트를 최소한으로 유지하라.

## 지속적 통합

모든 단위 테스트와 인수 테스트를 하루에 몇번이라고 실행할 수 있도록 하라.

누군가 어떤 모듈을 커밋할 때마다, CI 시스템은 빌드를 시작하고 모든 테스트를 실행, 테스트 결과를 팀 내 모든 인원에게 이메일을 보내야 한다.

### 출시를 멈춰라

실패하면 전체 시스템의 실행을 멈추고 오류를 바로잡아 테스트가 다시 통과하는데 집중해야 한다.

그들은 `너무 바빠서` 나중에 고치기로 하고 내버려 뒀다. → 항상 하는 핑계

## 토론
요구사항은 반드시 바뀌기 때문에 초기 정밀도는 고려할 가치가 없다. 라는 말에 동의 하시나요? 저는 반반 무마니 입니다. SI성격의 프로젝트를 진행할 때는 요구사항 명세는 정말 중요습니다.. 책에서 말한 것 처럼 고객들이 구현된 화면, 동작화면을 보고 다시 개발을 해달라는 경우가 많았습니다.

현재 진행하는 프로젝트는 기본적인 요구사항만 간단히 정해놓고 구현하고 보고 수정하고 개발하고를 반복하며 뭔가 완성도를 점점 높이고 있다는 느낌을 받습니다.

프로젝트의 성격에 따라 다른 것 같아요.